# AI 에이전트 최적화 작업 목록 (Phase 2)

이 문서는 AI 영어 회화 에이전트 프로젝트의 다음 단계인 최적화 작업을 위한 순서와 내용을 정의합니다.

---

### Milestone: 에이전트 네트워크 고도화

**목표:** 현재 구현된 AI 에이전트 네트워크의 응답 품질, 성능, 안정성을 종합적으로 향상시켜, 사용자가 더 자연스럽고 효과적인 영어 학습 경험을 할 수 있도록 시스템을 고도화합니다.

**핵심 과제 (Key Tasks):**

1.  **프롬프트 엔지니어링**: 각 에이전트의 프롬프트를 정교화하여, 보다 정확하고 페르소나에 맞는 응답을 생성하도록 유도합니다.
2.  **성능 튜닝**: 외부 API(Gemini) 호출 및 내부 로직의 응답 시간을 최적화하여 사용자 경험을 개선합니다.
3.  **로직 리팩토링 및 안정화**: 에이전트 간 협업 로직을 재검토하고, 코드 리팩토링을 통해 시스템의 유지보수성과 안정성을 확보합니다.

---

### Phase 5: 에이전트 네트워크 최적화 (Agent Network Optimization)

이 단계의 목표는 에이전트의 응답 품질을 높이고, 전체 시스템의 성능과 안정성을 개선하는 것입니다.

- [x] **13. 프롬프트 최적화 (Prompt Engineering)**

  - [x] **13.1. 교정 에이전트 (CorrectionAgent)**
    - [x] **오류 없을 시 피드백 강화**: 사용자의 답변이 시험 채점 기준(문법, 어휘, 논리 등)으로 훌륭할 경우, 어떤 부분이 왜 좋은지를 구체적으로 칭찬하여 동기를 부여하도록 프롬프트 강화.
  - [x] **13.2. 분석 에이전트 (AnalysisAgent)**
    - [x] **요약 및 분석 품질 향상**: 기사의 핵심 논거와 세부 사항을 더 깊이 있게 분석하고, IELTS/OPIC 주제와 연관지어 요약하도록 프롬프트 조정.
    - [x] **어휘 및 토론 질문 고도화**: 사용자의 학습 수준에 맞춰 더 높은 수준의 어휘(Lexical Resource)를 추천하고, 답변의 깊이와 논리력을 요구하는 심층적인 토론 질문을 생성하도록 지침 보강.
  - [x] **13.3. 대화 에이전트 (ConversationAgent)**
    - [x] **페르소나 전환 및 강화**: '친근한 대화 파트너'에서 **'IELTS/OPIC 전문 면접관'**으로 페르소나를 성공적으로 전환하고, 전문성과 격려하는 튜터의 역할을 일관되게 유지하도록 지침 강화.
    - [x] **컨텍스트 활용 능력 개선**: 뉴스 분석, 사용자 프로필 등의 컨텍스트를 활용하여, 피상적인 대화가 아닌 **심층 면접 질문을 생성**하는 방식으로 활용 능력을 개선. (교정 컨텍스트는 의도적으로 제거됨)

- [x] **14. 외부 API 응답 성능 개선 (Performance Tuning)**

  - [x] **14.1. Gemini API 호출 분석**: 각 에이전트의 Gemini API 호출에 대한 평균 응답 시간 측정 및 병목 구간 식별.
  - [x] **14.2. 모델 파라미터 튜닝**: `temperature`, `topP` 등 모델의 파라미터를 조정하여 응답 속도와 품질 간의 최적점 탐색.
  - [x] **14.3. 스트리밍 최적화**: 백엔드에서 생성된 스트림이 프론트엔드로 전달되는 과정의 지연 시간 최소화 방안 검토.

- [x] **15. 에이전트 협업 로직 재검토 (Collaboration Logic Refinement)**

  - [x] **15.1. 오케스트레이터 로직 검토 (`OrchestratorService`)**: 에이전트 호출 순서와 조건문의 효율성 및 정확성 재검토.
  - [x] **15.2. 에이전트 간 데이터 흐름 검증**: 각 에이전트가 다음 에이전트에게 전달하는 데이터의 형식과 내용이 명세와 일치하는지, 예외 상황에서도 안정적으로 처리되는지 검증.
  - [x] **15.3. 통합 테스트 케이스 추가**: 여러 에이전트가 복합적으로 동작하는 시나리오에 대한 통합 테스트 케이스 작성 및 실행.

- [x] **16. 에이전트 코드 리팩토링 (Agent Code Refactoring)**
  - [x] **16.1. 미사용 코드 제거**: 프로젝트 내에서 더 이상 호출되지 않거나 필요 없는 함수, 변수, 클래스 등을 식별하고 제거.
  - [x] **16.2. 중복 코드 추상화**: 여러 에이전트에서 반복적으로 사용되는 로직(예: 메시지 변환 로직)을 찾아 공통 유틸리티나 추상 클래스로 분리.
  - [x] **16.3. 로직 최적화 및 가독성 향상**: 최적화 과정에서 복잡해지거나 비효율적으로 남은 코드를 재구성하여 가독성과 유지보수성을 높임.
  - [x] **16.4. 타입 및 인터페이스 정리**: `apps/types`를 포함하여 전반적인 타입 정의를 검토하고, 사용되지 않거나 중복되는 타입을 정리.
  - [x] **16.5. 타입 강화**: `Agents` 관련 코드 내에서 `any`로만 처리되거나 타입으로 처리되지 않아 불확실성을 높이는 코드 타입화.
