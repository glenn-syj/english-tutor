# AI 에이전트 최적화 작업 목록 (Phase 2)

이 문서는 AI 영어 회화 에이전트 프로젝트의 다음 단계인 최적화 작업을 위한 순서와 내용을 정의합니다.

---

### Phase 5: 에이전트 네트워크 최적화 (Agent Network Optimization)

이 단계의 목표는 에이전트의 응답 품질을 높이고, 전체 시스템의 성능과 안정성을 개선하는 것입니다.

- [ ] **13. 프롬프트 최적화 (Prompt Engineering)**

  - [ ] **13.1. 교정 에이전트 (CorrectionAgent)**
    - [ ] 시스템 프롬프트 재검토: 사용자의 의도를 더 정확하게 파악하고, 불필요한 교정을 최소화하도록 지침 수정. (예: 단순 인사, 질문에는 교정 생략)
    - [ ] 오류 없을 시 피드백 강화: 오류가 없을 때, 더 구체적이고 동기 부여가 되는 긍정적 피드백을 제공하도록 프롬프트 수정.
  - [ ] **13.2. 분석 에이전트 (AnalysisAgent)**
    - [ ] 요약 품질 향상: 뉴스 기사의 핵심 내용을 더 간결하고 명확하게 요약하도록 프롬프트 조정.
    - [ ] 어휘 및 토론 질문 고도화: 사용자의 학습 수준에 더 적합한 어휘와, 깊이 있는 대화를 유도할 수 있는 토론 질문을 생성하도록 지침 보강.
  - [ ] **13.3. 대화 에이전트 (ConversationAgent)**
    - [ ] 페르소나 일관성 강화: 'Alex'의 페르소나(친근함, 재치)가 모든 응답에서 일관되게 유지되도록 지침 강화.
    - [ ] 컨텍스트 활용 능력 개선: 뉴스 분석, 문법 교정, 사용자 프로필 등 주어진 컨텍스트를 대화에 더 자연스럽게 녹여내도록 프롬프트 예시 추가 및 수정.

- [ ] **14. 외부 API 응답 성능 개선 (Performance Tuning)**

  - [ ] **14.1. Gemini API 호출 분석**: 각 에이전트의 Gemini API 호출에 대한 평균 응답 시간 측정 및 병목 구간 식별.
  - [ ] **14.2. 모델 파라미터 튜닝**: `temperature`, `topP` 등 모델의 파라미터를 조정하여 응답 속도와 품질 간의 최적점 탐색.
  - [ ] **14.3. 스트리밍 최적화**: 백엔드에서 생성된 스트림이 프론트엔드로 전달되는 과정의 지연 시간 최소화 방안 검토.

- [ ] **15. 에이전트 협업 로직 재검토 (Collaboration Logic Refinement)**

  - [ ] **15.1. 오케스트레이터 로직 검토 (`OrchestratorService`)**: 에이전트 호출 순서와 조건문의 효율성 및 정확성 재검토.
  - [ ] **15.2. 교정 에이전트 호출 조건 수정**: 사용자의 모든 메시지에 대해 교정을 시도하는 현재 로직을, 대화의 맥락을 고려하여 교정이 필요할 때만 호출하도록 수정. (참고: [이전 논의](#))
  - [ ] **15.3. 에이전트 간 데이터 흐름 검증**: 각 에이전트가 다음 에이전트에게 전달하는 데이터의 형식과 내용이 명세와 일치하는지, 예외 상황에서도 안정적으로 처리되는지 검증.
  - [ ] **15.4. 통합 테스트 케이스 추가**: 여러 에이전트가 복합적으로 동작하는 시나리오에 대한 통합 테스트 케이스 작성 및 실행.

- [ ] **16. 에이전트 코드 리팩토링 (Agent Code Refactoring)**
  - [ ] **16.1. 미사용 코드 제거**: 프로젝트 내에서 더 이상 호출되지 않거나 필요 없는 함수, 변수, 클래스 등을 식별하고 제거.
  - [ ] **16.2. 중복 코드 추상화**: 여러 에이전트에서 반복적으로 사용되는 로직(예: 메시지 변환 로직)을 찾아 공통 유틸리티나 추상 클래스로 분리.
  - [ ] **16.3. 로직 최적화 및 가독성 향상**: 최적화 과정에서 복잡해지거나 비효율적으로 남은 코드를 재구성하여 가독성과 유지보수성을 높임.
  - [ ] **16.4. 타입 및 인터페이스 정리**: `apps/types`를 포함하여 전반적인 타입 정의를 검토하고, 사용되지 않거나 중복되는 타입을 정리.
